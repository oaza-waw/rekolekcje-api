<div class="container-fluid" *ngIf="participant">
  <ng-container [ngSwitch]="editing">
    <div *ngSwitchCase="false">
      <mat-card>
        <mat-card-header>
          <h2>Details of {{participant.firstName}} {{participant.lastName}}</h2>
        </mat-card-header>
        <mat-card-content>
          <mat-accordion>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Personal data
                </mat-panel-title>
                <mat-panel-description>
                  Basic personal data and information
                </mat-panel-description>
              </mat-expansion-panel-header>

              <personal-data
                [firstName]="participant.firstName"
                [lastName]="participant.lastName"
                [pesel]="participant.pesel"
                [address]="participant.address"
                [personalData]="participant.personalData">
              </personal-data>

            </mat-expansion-panel>

            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Parish
                </mat-panel-title>
                <mat-panel-description>
                  {{participant.parishId}} - {{getParishName(participant.parishId)}}
                </mat-panel-description>
              </mat-expansion-panel-header>

              <div class="form-group row">
                <label class="col-sm-2">Parish name</label>
                <div class="col-sm-6">{{getParishName(participant.parishId)}}</div>
              </div>
              <div class="form-group row">
                <label class="col-sm-2">Parish address</label>
                <div class="col-sm-6">{{getParishAddress(participant.parishId)}}</div>
              </div>
              <div class="form-group row">
                <label class="col-sm-2">Parish region</label>
                <div class="col-sm-6">{{participant.parishId}}</div>
              </div>

            </mat-expansion-panel>

            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Health report
                </mat-panel-title>
                <mat-panel-description>
                  Information about the state of participant's health
                </mat-panel-description>
              </mat-expansion-panel-header>

              <div class="form-group row">
                <label class="col-sm-2">Current treatment</label>
                <div class="col-sm-6">data</div>
              </div>
              <div class="form-group row">
                <label class="col-sm-2">Medication</label>
                <div class="col-sm-6">data</div>
              </div>
              <div class="form-group row">
                <label class="col-sm-2">Allergies</label>
                <div class="col-sm-6">data</div>
              </div>
              <div class="form-group row">
                <label class="col-sm-2">Other</label>
                <div class="col-sm-6">data</div>
              </div>

            </mat-expansion-panel>

            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Experience in Oasis
                </mat-panel-title>
                <mat-panel-description>
                  Information about previous formation and retreats
                </mat-panel-description>
              </mat-expansion-panel-header>

              <div class="form-group row">
                <label class="col-sm-2">Retreats</label>
                <div class="col-sm-6">data</div>
              </div>
              <div class="form-group row">
                <label class="col-sm-2">KWC</label>
                <div class="col-sm-6">data</div>
              </div>
              <div class="form-group row">
                <label class="col-sm-2">Prayer retreats</label>
                <div class="col-sm-6">data</div>
              </div>
              <div class="form-group row">
                <label class="col-sm-2">Other</label>
                <div class="col-sm-6">data</div>
              </div>

            </mat-expansion-panel>

            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Opinions
                </mat-panel-title>
                <mat-panel-description>
                  Collection of opinions on participant
                </mat-panel-description>
              </mat-expansion-panel-header>

              <div class="form-group row">
                <label class="col-sm-2">Animator's opinion</label>
                <div class="col-sm-6">data</div>
              </div>
              <div class="form-group row">
                <label class="col-sm-2">Moderator's opinion</label>
                <div class="col-sm-6">data</div>
              </div>

            </mat-expansion-panel>

          </mat-accordion>
        </mat-card-content>
        <mat-card-actions>
          <button mat-raised-button color="primary" (click)="goBack()">
            <i class="fa fa-chevron-left"></i> Back
          </button>
          <button mat-raised-button (click)="edit()">
            <mat-icon>mode_edit</mat-icon> Edit
          </button>
          <button mat-raised-button (click)="delete()">
            <mat-icon>delete</mat-icon> Delete
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
    <div *ngSwitchCase="true">
      <participiant-form
        [firstName]="participant.firstName"
        [id]="participant.id"
        [lastName]="participant.lastName"
        [parishId]="participant.parishId"
        [pesel]="participant.pesel"
        (formOutput)="save($event)">
      </participiant-form>
    </div>
  </ng-container>
</div>
